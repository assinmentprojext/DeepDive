# 4장 변수

# 0. 용어 정리

- evaluation: 주어진 식을 자바스크립트 엔진이 계산하는 것.
- literal: 데이터 값 그 자체. 변수에 들어가는 변하지 않는 데이터.
    - vs. 상수: 상수는 변수 중에서도 변하지 않는 변수를 의미. 즉 데이터를 넣는 주머니.
- operator: 데이터를 어떻게 계산할지 알려주는 표시.
- parsing: 10+20과 같은 표현식(expression)을 엔진이 해석하는 일.
- operand: 피연산자. 연산자를 제외한 나머지 데이터.
- variable hoisting: runtime 이전에 선언문을 모두 찾아내 실행하는 자바스크립트 고유의 특징
- 상수: 한번 할당하면 다시 할당할 수 없는 수

# 1. 연산 과정과 메모리

1. 컴퓨터의 연산 과정(10+20)과 **변수**
    1. 피연산자(10, 20)과 연산자(+)를 기억한다. 피연산자는 메모리 상의 **임의의 위치**에 기억한다. 
    2. 연산 결과인 30도 메모리 상의 임의의 위치에 기억한다. 
    3. 메모리 주소에는 직접 접근할 수 없다. 치명적인 문제(???)를 발생시키며 데이터가 저장되는 위치는 매번 바뀌기 때문. 이러면 연산 결과를 어떻게 재사용하지? →변수 사용
    4. 변수
        1. 하나의 값을 저장하기 위해 확보한 메모리 공간
        2. 메모리 공간을 식별하기 위해 붙인 이름
    5. 이번에는 연산 결과 30을 메모리의 아무데나 집어넣은 후 그 공간에 result라는 이름을 붙인다. (메모리 숫자/포인터 번호는 모르는데 아무튼 이름은 result임)
    
    ```jsx
    var result = 10 + 20;
    ```
    
    f. 변수에 값을 저장하는 것을 할당(assignment)이라고 하고 변수에 저장한 값을 읽는 것을 참조(reference)라고 한다. 
    
2. 식별자
    1. 변수 이름=식별자. 어떤 값을 구별해서 식별할 수 있는 고유한 이름
    2. 식별자는 메모리 주소를 기억한다. 
    3. 함수, 클래스 등 메모리 상에 존재하는 어떤 값을 식별할 수 있으면 식별자이다. 
3. 변수 선언
    1. 의미: 메모리 공간 확보 + 변수 이름과 메모리 공간 연결 + 자동 초기화
    2. 사용: var, let, const 키워드 사용
    3. 변수 선언 후 확보된 메모리 공간에는 자동으로 undefined라는 값을 채워 초기화한다.(쓰레기값 방지)
4. 변수 선언 시점과 호이스팅
    1. 다른 언어와 달리 자바스크립트는 다음과 같은 코드를 실행해도 참조 에러가 발생하지 않는다. 
    
    ```jsx
    console.log(score);
    var score;
    ```
    
    b. 변수 선언은 runtime(소스 코드가 한 줄씩 실행되는 시점)이전에 발생하고, 변수 선언 시점에서 이미 undefined가 할당됐으므로 위 코드는 undefined를 출력한다. 
    
    c. 자바스크립트는 소스 코드 평가 과정에서 소스 코드 안의 모든 선언문을 찾아내 실행한 다음, runtime에 들어간다. 이를 **변수 호이스팅(variable hoisting)**이라고 한다. 
    
5. 값의 할당
    1. 변수 선언은 runtime 이전에 먼저 실행되지만 변수 할당은 runtime에 실행된다. 
    2. 변수에 값을 할당할 때는 자동 할당된 undefined가 있는 자리를 비우지 않고 새로운 메모리 자리를 확보해 그곳에 값을 넣는다. 
    3. 예제 4-10
        
        ```jsx
        console.log(score)/*1번 출력*/
        
        score = 80;
        var score;
        
        console.log(score);/*2번 출력*/
        ```
        
        1. runtime 이전에 var score가 먼저 실행되어 score 변수에 undefined가 할당된다. 
        2. 1번 출력문이 undefined를 출력한다. 
        3. score = 80;을 통해 score 변수에 80이 할당된다. 
        4. 2번 출력문은 80을 출력한다. 
6. 값의 재할당

```jsx
var score = 80;
score = 90;
```

    1. 변수에 저장된 값을 다른 값으로 변경하는 것. 그러나 실제로는 변수에 연결된 메모리 주소를 바꾸는 것
    2. 상수(const): 한번 할당하면 다시 할당할 수 없는 수
    3. 위 코드에서 80은 어떤 식별자와도 연결되지 않은 불필요한 값이다. 자바스크립트에서는 이러한 값이 있는 메모리를 가비지 콜렉터(garbage collector)가 알아서 해제한다. (C에서는 free()로 직접 해제해야 했음)

7. 식별자 네이밍 규칙

    1. 일반 문자, 숫자, _, $만 포함할 수 있다. 
    2. 식별자는 숫자로 시작할 수 없다. 
    3. 예약어는 식별자로 사용할 수 없다. 
    4. 자바스크립트는 대소문자를 구별한다. 
    5. 변수 이름은 주석이 필요없을 정도로 명확해야 한다. 
    6. 자바스크립트는 일반적으로 변수나 함수의 이름에는 카멜 케이스를, 생성자 함수와 클래스의 이름에는 파스칼 케이스를 사용한다.
